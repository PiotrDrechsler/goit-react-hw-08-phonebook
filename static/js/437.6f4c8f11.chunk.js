"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[437],{8437:function(e,n,t){t.r(n),t.d(n,{default:function(){return G}});var r=t(2791),a=t(9434),o=t(4270),s=t(9439),i=t(4087),c=t(2701),u=t(4585),l=t(6069),d=t(4224),h=function(e){return e.contacts.items},m=function(e){return e.filter},x=function(e){return e.contacts.isLoading},p=t(3634),f=t(4656),j=t.n(f)().getCountries(),v=function(e){return e&&j.find((function(n){return n.iso===e})).prefix},g=t(1413),b=t(4925),w=t(6192),C=t(7806),y=t(8886),I=t(176),k=t(1299),Z=t(4409),_=t.n(Z),z=t(9629),L=t(3329),N=["size","value","country","options","onChange","placeholder"],F=function(e){var n=e.size,t=e.value,a=e.country,o=e.options,c=e.onChange,u=e.placeholder,d=(0,b.Z)(e,N),h=(0,r.useState)(t||""),m=(0,s.Z)(h,2),x=m[0],p=m[1],f=(0,r.useState)(a||""),j=(0,s.Z)(f,2),Z=j[0],F=j[1],S=(0,r.useState)(v(a)||""),q=(0,s.Z)(S,2),P=q[0],J=q[1];(0,r.useEffect)((function(){F(a),J(v(a))}),[a]);return(0,L.jsxs)(w.B,(0,g.Z)((0,g.Z)({size:n},d),{},{children:[(0,L.jsxs)(C.Z,{width:"4rem",children:[(0,L.jsxs)(y.P,{top:"0",left:"0",zIndex:1,bottom:0,opacity:0,height:"100%",position:"absolute",value:Z,onChange:function(e){var n=e.target.value,t=v(n),r=(new z.R).input("".concat(t).concat(x));J(t),F(n),c(r)},children:[(0,L.jsx)("option",{value:""}),o.map((function(e){return(0,L.jsx)("option",{value:e.value,children:e.label},e.value)}))]}),(0,L.jsxs)(I.k,{pl:2,width:"100%",alignItems:"center",children:[Z?(0,L.jsx)(i.xu,{mr:"4px",width:"50%",flex:1,children:(0,L.jsx)(_(),{height:"1rem",code:Z||""})}):(0,L.jsx)(k.J,{name:"phone"}),(0,L.jsx)(k.J,{name:"chevron-down"})]})]}),(0,L.jsx)(l.I,{pl:"4rem",type:"tel",value:x,pattern:"[0-9]",placeholder:u,onChange:function(e){var n=e.target.value,t=(new z.R).input("".concat(P).concat(n));p(n),c(t)}})]}))};F.defaultProps={options:[],size:"md"};var S=F,q=function(){var e=(0,a.v9)(h),n=(0,a.I0)(),t=j.map((function(e){return{label:e.name,value:e.iso}})),o=(0,r.useState)(""),m=(0,s.Z)(o,2),x=m[0],f=m[1];return(0,L.jsxs)(i.xu,{as:"form",onSubmit:function(t){t.preventDefault();var r=t.target,a=t.target.name.value,o=t.target.number.value,s=e.some((function(e){return e.name.toLowerCase()===a.toLowerCase()})),i={name:a,number:o};s?alert("".concat(a," is in use. Try another name.")):(n((0,p.uK)(i)),r.reset())},my:"10",children:[(0,L.jsx)(S,{value:x,options:t,placeholder:"Enter phone number",onChange:function(e){return f(e)}}),(0,L.jsxs)(c.NI,{children:[(0,L.jsx)(u.l,{htmlFor:"name",children:"Name"}),(0,L.jsx)(l.I,{type:"text",name:"name",maxlength:"30",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",placeholder:"e.g. John Doe",required:!0,mb:"4"})]}),(0,L.jsxs)(c.NI,{children:[(0,L.jsx)(u.l,{htmlFor:"number",children:"Number"}),(0,L.jsx)(l.I,{type:"tel",name:"number",maxlength:"30",pattern:"(-)?\\d{1,}|(-)?\\d{1,}(\\.)\\d{1,}|(-)?\\d{1,}(\\s)(-)?\\d{1,}|(-)?\\d{1,}(\\s)(-)?\\d{1,}(\\s)(-)?\\d{1,}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",placeholder:"e.g. 123-456-789",required:!0,mb:"4"}),(0,L.jsx)(d.z,{type:"submit",children:"Add contact"})]})]})},P=t(9229),J=t(6223),A=t(2899),E=t(1882),R=t(7885),B=t(6600),D=t(3303),K=function(){var e=(0,a.v9)(h),n=(0,a.v9)(m),t=(0,a.v9)(x),r=(0,a.I0)(),o=e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())||e.number.includes(n)}));return(0,L.jsx)(L.Fragment,{children:t?(0,L.jsx)(P.x,{children:"Loading..."}):(0,L.jsx)(J.M,{columns:5,spacing:10,overflow:"hidden",children:o.length>0?o.map((function(e){var n=e.id,t=e.name,a=e.number;return(0,L.jsxs)(A.Z,{children:[(0,L.jsx)(E.O,{children:(0,L.jsx)(R.h,{icon:(0,L.jsx)(B.P,{}),onClick:function(){return function(e){return r((0,p.GK)(e))}(n)}})}),(0,L.jsxs)(D.e,{children:[(0,L.jsx)(P.x,{children:t}),(0,L.jsx)(P.x,{children:a})]})]},n)})):(0,L.jsx)(P.x,{children:"No contacts found"})})})},M=t(3165),T=function(){var e=(0,a.I0)();return(0,L.jsxs)(c.NI,{id:"filter",mb:"5",children:[(0,L.jsx)(u.l,{children:"Search list:"}),(0,L.jsx)(l.I,{type:"search",name:"filter",value:(0,a.v9)(m),onChange:function(n){var t=n.target.value.toLowerCase();e((0,M.T)(t))},placeholder:"Find contacts by name or phone number",required:!0})]})},G=function(){var e=(0,a.I0)(),n=(0,a.v9)(x);return(0,r.useEffect)((function(){e((0,p.yF)())}),[e]),(0,L.jsxs)("div",{children:[(0,L.jsx)(o.q,{children:(0,L.jsx)("h1",{children:"Phonebook"})}),(0,L.jsx)(q,{}),(0,L.jsx)("div",{children:n&&"Request in progress..."}),n?null:(0,L.jsx)(T,{}),(0,L.jsx)(K,{})]})}}}]);
//# sourceMappingURL=437.6f4c8f11.chunk.js.map